  # üéµ MusicTrace

  **MusicTrace** ‚Äî —ç—Ç–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –∏ –∞–Ω–∞–ª–∏–∑–∞ –º—É–∑—ã–∫–∞–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.  
  –°–µ—Ä–≤–∏—Å —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è—Ö –∏–∑ **Spotify** –∏ **–Ø–Ω–¥–µ–∫—Å –ú—É–∑—ã–∫–∏**, –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É –ø–æ —Ç—Ä–µ–∫–∞–º, –∞—Ä—Ç–∏—Å—Ç–∞–º –∏ –∂–∞–Ω—Ä–∞–º.

  –ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª—è—Ö —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ **Django** –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏ **Docker**.

  üåê –î–µ–º–æ-–≤–µ—Ä—Å–∏—è: https://musit-trace.jgroup.top

  ---

  ## üìå –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

  –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:
  - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–π –∏–∑ —Ä–∞–∑–Ω—ã—Ö –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤;
  - –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ—é –º—É–∑—ã–∫–∞–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å;
  - –≤–∏–∑—É–∞–ª—å–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–∏–≤—ã—á–∫–∏ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è;
  - –ø–æ–ª—É—á–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç—Ä–µ–∫–∞—Ö (–≤–∫–ª—é—á–∞—è —Ç–µ–∫—Å—Ç –ø–µ—Å–Ω–∏).

  ---

  ## üë• –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è

  –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–∏–º–∏–Ω–≥–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:
  - Spotify  
  - –Ø–Ω–¥–µ–∫—Å –ú—É–∑—ã–∫–∞  

  –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç—è—Ç –ª—É—á—à–µ –ø–æ–Ω–∏–º–∞—Ç—å —Å–≤–æ–∏ –º—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è.

  ---

  ## üë§ –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

  ### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
  - –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –º—É–∑—ã–∫–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã;
  - –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã–π —Ç—Ä–µ–∫;
  - –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–π;
  - –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏;
  - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç –ø–µ—Å–Ω–∏.

  ### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
  - —É–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–º–∏ —á–µ—Ä–µ–∑ Django Admin;
  - –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Ç—Ä–µ–∫–∏ –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å.

  ---

  ## ‚ú® –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

  - üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–æ Spotify (OAuth 2.0)
  - üîë –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ø–Ω–¥–µ–∫—Å –ú—É–∑—ã–∫–æ–π –ø–æ —Ç–æ–∫–µ–Ω—É
  - ‚ñ∂Ô∏è –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Ç—Ä–µ–∫–∞ (Now Playing)
  - üìä –î–∞—à–±–æ—Ä–¥ —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π:
    - —Ç–æ–ø-–∞—Ä—Ç–∏—Å—Ç—ã
    - —Ç–æ–ø-–∂–∞–Ω—Ä—ã
    - –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ø—Ä–æ—Å–ª—É—à–∞–Ω–Ω—ã–µ —Ç—Ä–µ–∫–∏
  - üìà –ê–Ω–∞–ª–∏–∑ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:
    - –ø–æ —á–∞—Å–∞–º (—Å—É—Ç–∫–∏)
    - –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏
    - –ø–æ –º–µ—Å—è—Ü–∞–º
  - ‚ù§Ô∏è –£—á—ë—Ç –ª–∞–π–∫–æ–≤ —Ç—Ä–µ–∫–æ–≤
  - üìù –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø–µ—Å–Ω–∏
  - ü§ñ –§–æ–Ω–æ–≤—ã–π scrobbler –¥–ª—è —Å–±–æ—Ä–∞ –∏—Å—Ç–æ—Ä–∏–∏ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–π

  ---

  ## üóÑÔ∏è –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

  - **MusicService** ‚Äî –º—É–∑—ã–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å (Spotify / Yandex Music)
  - **Track** ‚Äî —Ç—Ä–µ–∫ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –∞—Ä—Ç–∏—Å—Ç, –∂–∞–Ω—Ä, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –æ–±–ª–æ–∂–∫–∞)
  - **UserTrackActivity** ‚Äî –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ, –ª–∞–π–∫, –≤—Ä–µ–º—è)
  - **Lyrics** ‚Äî —Ç–µ–∫—Å—Ç –ø–µ—Å–Ω–∏ –∏ –∏—Å—Ç–æ—á–Ω–∏–∫
  - **Recommendation** ‚Äî —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ —Ç—Ä–µ–∫–∏ (–∑–∞–≥–æ—Ç–æ–≤–∫–∞ –ø–æ–¥ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ)

  ---

  ## üîå –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ API-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

  - GET /api/user/services  
  - GET /api/now-playing?source=spotify|yandex  
  - GET /api/stats/summary?source=...  
  - GET /api/stats/recent?source=...  
  - GET /api/stats/activity?source=...&period=day|week|month  
  - GET /track/<id>/lyrics  

  ---

  ## üß∞ –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

  ### Backend
  - Python 3.12
  - Django
  - Django ORM
  - Gunicorn

  ### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
  - PostgreSQL
  - SQLite (–ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)

  ### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
  - Spotify Web API
  - –ù–µ–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π API –Ø–Ω–¥–µ–∫—Å –ú—É–∑—ã–∫–∏

  ### Frontend
  - HTML
  - CSS
  - Bootstrap

  ### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
  - Docker
  - Docker Compose

  ---

  ## üê≥ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ (Docker)

  ### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
  ```bash
  git clone https://github.com/TheJCN/MusicTrace.git
  cd MusicTrace
  ```
  
  ### 2. –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
  ```bash
  cp .env.example .env 
  ```
  
  ### 3. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
  ```bash
  docker compose up --build
  ```

  ---
  ### –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:
  - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: http://localhost:8000
  - –ê–¥–º–∏–Ω–∫–∞: http://localhost:8000/admin

  --- 
  ### üß† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
  - web ‚Äî Django + Gunicorn
  - scrobbler ‚Äî —Ñ–æ–Ω–æ–≤—ã–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –æ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è—Ö
  - db ‚Äî PostgreSQL

 ## üìå –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞
 ### –ü—Ä–æ–µ–∫—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å—Ç–∞–¥–∏–∏ –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª—è—Ö.
  
